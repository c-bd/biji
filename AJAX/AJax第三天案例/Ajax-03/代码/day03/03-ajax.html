<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>

    <form action="" method="POST" enctype=""></form>

    <script>
        /*
        封装一个函数
        1. 能够发送GET和POST方式的请求
        2. 发送请求的时候，可以给服务器传递参数
        3. 能够给不同的url发送请求
        4. 服务器返回的结果，应该由调用函数的人自行处理
        */

        function ajax(type, url, data) {
            var xhr = new XMLHttpRequest();

            // 判断，如果是GET请求，让url和data拼接到一起
            if (type === 'GET') {
                url = url + '?' + data; // /query-get?id=11&age=22&name=zs
                data = null;
            }

            xhr.open(type, url);

            // 判断，如果是POST方式，需要加请求头
            if (type === 'POST') {
                xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
            }

            xhr.send(data);
            xhr.onload = function () {
                console.log(this.response);
            }
        }

        // 调用函数，测试
        ajax('POST', '/query-post', 'id=11&age=22&name=zs');
        ajax('GET', '/query-get', 'id=11&age=22&name=zs');

        
    </script>
</body>

</html>